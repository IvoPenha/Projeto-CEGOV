{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = stack;\n\nvar _max2 = _interopRequireDefault(require(\"lodash/max\"));\n\nvar _min2 = _interopRequireDefault(require(\"lodash/min\"));\n\nvar _defaults2 = _interopRequireDefault(require(\"lodash/defaults\"));\n\nvar _isUndefined2 = _interopRequireDefault(require(\"lodash/isUndefined\"));\n\nvar _map2 = _interopRequireDefault(require(\"lodash/map\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction stack(props, options) {\n  var _ref = options || {},\n      normalize = _ref.normalize;\n\n  var series = props.series,\n      seriesNormalized = props.seriesNormalized,\n      maxX = props.maxX,\n      maxY = props.maxY,\n      minX = props.minX,\n      minY = props.minY;\n  var stackedY = [],\n      lowestY = [];\n  series = (0, _map2[\"default\"])(series, function (series) {\n    var newSeries = {\n      data: (0, _map2[\"default\"])(series.data, function (point, pointIndex) {\n        stackedY[pointIndex] = stackedY[pointIndex] || 0;\n\n        if ((0, _isUndefined2[\"default\"])(lowestY[pointIndex])) {\n          lowestY[pointIndex] = stackedY[pointIndex];\n        }\n\n        var newPoint = {\n          y0: stackedY[pointIndex],\n          y: stackedY[pointIndex] + point.y\n        };\n        stackedY[pointIndex] = newPoint.y;\n        return (0, _defaults2[\"default\"])(newPoint, point);\n      })\n    };\n    return (0, _defaults2[\"default\"])(newSeries, series);\n  });\n  minY = (0, _min2[\"default\"])(lowestY);\n  var stackedMaxY = (0, _max2[\"default\"])(stackedY);\n  maxY = Math.max(stackedMaxY, maxY);\n\n  if (normalize) {\n    var ratios = (0, _map2[\"default\"])(stackedY, function (y) {\n      return stackedMaxY / y;\n    });\n    series = (0, _map2[\"default\"])(series, function (series) {\n      var newSeries = {\n        data: (0, _map2[\"default\"])(series.data, function (point, pointIndex) {\n          var newPoint = {\n            y0: point.y0 * ratios[pointIndex],\n            y: point.y * ratios[pointIndex]\n          };\n          return (0, _defaults2[\"default\"])(newPoint, point);\n        })\n      };\n      return (0, _defaults2[\"default\"])(newSeries, series);\n    });\n  }\n\n  return {\n    series: series,\n    seriesNormalized: seriesNormalized,\n    maxX: maxX,\n    maxY: maxY,\n    minX: minX,\n    minY: minY\n  };\n}","map":{"version":3,"sources":["C:/Users/ivoxp/OneDrive/Documentos/Projeto estagio/Projeto/meuprojeto/node_modules/rumble-charts/lib/helpers/transforms/stack.js"],"names":["Object","defineProperty","exports","value","stack","_max2","_interopRequireDefault","require","_min2","_defaults2","_isUndefined2","_map2","obj","__esModule","props","options","_ref","normalize","series","seriesNormalized","maxX","maxY","minX","minY","stackedY","lowestY","newSeries","data","point","pointIndex","newPoint","y0","y","stackedMaxY","Math","max","ratios"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = stack;\n\nvar _max2 = _interopRequireDefault(require(\"lodash/max\"));\n\nvar _min2 = _interopRequireDefault(require(\"lodash/min\"));\n\nvar _defaults2 = _interopRequireDefault(require(\"lodash/defaults\"));\n\nvar _isUndefined2 = _interopRequireDefault(require(\"lodash/isUndefined\"));\n\nvar _map2 = _interopRequireDefault(require(\"lodash/map\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction stack(props, options) {\n  var _ref = options || {},\n      normalize = _ref.normalize;\n\n  var series = props.series,\n      seriesNormalized = props.seriesNormalized,\n      maxX = props.maxX,\n      maxY = props.maxY,\n      minX = props.minX,\n      minY = props.minY;\n  var stackedY = [],\n      lowestY = [];\n  series = (0, _map2[\"default\"])(series, function (series) {\n    var newSeries = {\n      data: (0, _map2[\"default\"])(series.data, function (point, pointIndex) {\n        stackedY[pointIndex] = stackedY[pointIndex] || 0;\n\n        if ((0, _isUndefined2[\"default\"])(lowestY[pointIndex])) {\n          lowestY[pointIndex] = stackedY[pointIndex];\n        }\n\n        var newPoint = {\n          y0: stackedY[pointIndex],\n          y: stackedY[pointIndex] + point.y\n        };\n        stackedY[pointIndex] = newPoint.y;\n        return (0, _defaults2[\"default\"])(newPoint, point);\n      })\n    };\n    return (0, _defaults2[\"default\"])(newSeries, series);\n  });\n  minY = (0, _min2[\"default\"])(lowestY);\n  var stackedMaxY = (0, _max2[\"default\"])(stackedY);\n  maxY = Math.max(stackedMaxY, maxY);\n\n  if (normalize) {\n    var ratios = (0, _map2[\"default\"])(stackedY, function (y) {\n      return stackedMaxY / y;\n    });\n    series = (0, _map2[\"default\"])(series, function (series) {\n      var newSeries = {\n        data: (0, _map2[\"default\"])(series.data, function (point, pointIndex) {\n          var newPoint = {\n            y0: point.y0 * ratios[pointIndex],\n            y: point.y * ratios[pointIndex]\n          };\n          return (0, _defaults2[\"default\"])(newPoint, point);\n        })\n      };\n      return (0, _defaults2[\"default\"])(newSeries, series);\n    });\n  }\n\n  return {\n    series: series,\n    seriesNormalized: seriesNormalized,\n    maxX: maxX,\n    maxY: maxY,\n    minX: minX,\n    minY: minY\n  };\n}"]},"metadata":{},"sourceType":"script"}